<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Bienvenida — Skyfly</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&family=Roboto:wght@400;500&display=swap" rel="stylesheet">  

  <style>
    :root{
      --blue:#004aad;
      --accent:#ff6b6b;
      --bg:#f5f7fa;
      --card:#f9f9f9;
      --muted:#777;
      --max-width:1200px;
      --radius:12px;
    }

    /* Base */
    *{box-sizing:border-box}
    html,body{height:100%}
    body { font-family: 'Poppins', sans-serif; margin:0; background:var(--bg); color:#222; -webkit-font-smoothing:antialiased;}
    a{color:inherit}
    img{display:block;max-width:100%;height:auto}

    /* Layout wrapper */
    .site { max-width:var(--max-width); margin:0 auto; }

    /* Navbar */
    .navbar { background:var(--blue); color:#fff; padding:1rem 1.25rem; display:flex; justify-content:space-between; align-items:center; gap:1rem; }
    .brand { display:flex; align-items:center; font-weight:700; font-size:1.125rem; gap:0.6rem; }
    .brand .logo { font-size:1.3rem; line-height:1 }
    .nav-wrap { display:flex; align-items:center; gap:1rem; }
    .nav-links { list-style:none; display:flex; gap:1rem; margin:0; padding:0; align-items:center; }
    .nav-links a { color:#fff; text-decoration:none; font-weight:600; padding:0.4rem 0.6rem; border-radius:8px; }
    .btn-login { background:#004aad; color:var(--blue); padding: 8px 14px; border-radius:10px; font-weight:700; text-decoration:none; display:inline-block; }

    /* Hamburger (mobile) */
    .nav-toggle { display:none; background:transparent; border:0; color:#fff; font-size:1.4rem; cursor:pointer; }
    .nav-panel { display:flex; align-items:center; gap:1rem; }

    /* Hero */
    .hero { display:flex; justify-content:space-between; align-items:center; padding:3rem 1.25rem; gap:2rem; flex-wrap:wrap; }
    .hero-left { flex:1 1 380px; min-width:260px; }
    .headline { font-size:3rem; line-height:1.05; margin:0; display:flex; flex-wrap:wrap; gap:0.5rem; align-items:center; }
    .headline .script { font-family:'Roboto', sans-serif; color:var(--accent); font-weight:500; font-size:1.2em; }
    .headline .strong { font-weight:800; color:var(--blue); }
    .subcopy { margin-top:1rem; font-size:1.05rem; color:#222; }

    .hero-right { flex:1 1 300px; min-width:260px; position:relative; text-align:center; }
    .map-wrapper { position:relative; max-width:100%; display:inline-block; width:100%; }
    .world-map { width:100%; border-radius:var(--radius); box-shadow:0 6px 18px rgba(0,0,0,0.12); display:block; }

    /* Hotspots */
    .hotspot { position:absolute; width:18px; height:18px; background:var(--accent); border:3px solid #fff; border-radius:50%; cursor:pointer; transform:translate(-50%, -50%); box-shadow:0 2px 6px rgba(0,0,0,0.15); }
    .hotspot:focus { outline:3px solid rgba(0,74,173,0.18); }

    /* Tooltip */
    .map-tooltip {
      position:absolute;
      background:#fff;
      border-radius:10px;
      padding:0.75rem;
      box-shadow:0 6px 20px rgba(0,0,0,0.15);
      transform:translate(-50%, -120%);
      width:220px;
      text-align:left;
      font-size:0.9rem;
      z-index:9999;
    }
    .map-tooltip img { width:100%; border-radius:6px; margin-bottom:0.5rem; max-height:110px; object-fit:cover; }
    .map-hint { display:block; margin-top:0.5rem; font-size:0.8rem; color:var(--muted); }

    /* Destinos grid */
    .destinos { padding:2rem 1.25rem; background:#fff; text-align:center; }
    .destinos h2 { font-size:1.6rem; margin-bottom:1rem; }
    .grid-destinos { display:grid; gap:1rem; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); align-items:start; }
    .card { background:var(--card); border-radius:10px; overflow:hidden; box-shadow:0 2px 8px rgba(0,0,0,0.06); transition: transform 0.18s ease; text-align:left; }
    .card:hover { transform:translateY(-6px); }
    .card img { width:100%; height:140px; object-fit:cover; display:block; }
    .card h4 { margin:0.6rem 0.6rem 0 0.6rem; font-size:1.05rem; }
    .card p { margin:0 0.6rem 0.8rem 0.6rem; font-size:0.9rem; color:#444; }

    .extra { padding:2rem 1.25rem; background:#f0f4ff; text-align:center; }

    /* Utility */
    .sr-only { position:absolute; left:-10000px; top:auto; width:1px; height:1px; overflow:hidden; }

    /* ===== Responsive ===== */
    /* Tablet */
    @media (max-width:1024px){
      .headline{ font-size:2.4rem; }
      .map-tooltip { width:200px; }
    }

    /* Small tablet / large phone */
    @media (max-width:768px){
      .navbar { padding:0.8rem 1rem; }
      .nav-links { display:none; flex-direction:column; background:transparent; position:absolute; right:1rem; top:64px; background:var(--blue); padding:0.5rem; border-radius:8px; min-width:160px; box-shadow:0 8px 24px rgba(0,0,0,0.12);}
      .nav-links a { display:block; padding:0.6rem 0.8rem; }
      .nav-toggle { display:inline-flex; align-items:center; justify-content:center; border-radius:6px; padding:6px; }
      .nav-panel.open .nav-links { display:flex; }

      .hero { padding:2rem 1rem; }
      .headline { font-size:2rem; justify-content:flex-start; }
      .hero-left, .hero-right { width:100%; }
      .hero { flex-direction:column-reverse; align-items:center; text-align:center; }
      .hero-left { order:2; }
      .hero-right { order:1; }

      .hotspot { width:14px; height:14px; border-width:2px; }
      .map-tooltip { position:absolute; transform:none; left:50%; top:100%; width:90%; max-width:360px; margin-top:0.6rem; }
      .map-hint { display:block; margin-top:0.6rem; }

      .card img { height:130px; }
    }

    /* Mobile */
    @media (max-width:480px){
      .headline { font-size:1.6rem; gap:0.25rem; }
      .subcopy { font-size:0.98rem; }
      .map-tooltip img { max-height:90px; }
      .nav-links { right:0.5rem; top:56px; }
    }
  </style>
</head>

<body>
  <header class="navbar site" role="banner" aria-label="Barra de navegación">
    <div class="brand"><span class="logo" aria-hidden="true">✈</span><span class="brand-text">Skyfly</span></div>

    <div class="nav-panel" id="navPanel">
      <button id="navToggle" class="nav-toggle" aria-expanded="false" aria-controls="mainNav" aria-label="Abrir menú">☰</button>

      <nav>
        <ul id="mainNav" class="nav-links" role="menubar" aria-label="Enlaces principales">
          <li role="none"><a role="menuitem" href="#" class="link">Reservar</a></li>
          <li role="none"><a role="menuitem" href="#" class="link">Destinos</a></li>
          <li role="none"><a role="menuitem" th:href="@{/login}" class="btn-login">Iniciar sesión</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="site" role="main">
    <section class="hero" aria-labelledby="heroTitle">
      <div class="hero-left">
        <h1 id="heroTitle" class="headline" aria-hidden="false">
          <span class="kicker">Deja</span>
          <span class="script">volar</span>
          <span class="strong">tus sueños</span>
          <span class="plane" aria-hidden="true">✈</span>
        </h1>
        <p class="subcopy">Conoce cada uno de nuestros destinos y elige tu próxima parada.</p>
      </div>

      <div class="hero-right" aria-hidden="false">
        <div class="map-wrapper" id="mapWrapper">
          <img class="world-map" src="https://upload.wikimedia.org/wikipedia/commons/8/80/World_map_-_low_resolution.svg" alt="Mapa del mundo"/>

          <!-- Hotspots (posiciones en % sobre la imagen) -->
          <button class="hotspot" style="left:28%; top:46%;" data-code="mx" aria-label="México" title="México"></button>
          <button class="hotspot" style="left:24%; top:67%;" data-code="pe" aria-label="Perú" title="Perú"></button>
          <button class="hotspot" style="left:33%; top:67%;" data-code="br" aria-label="Brasil" title="Brasil"></button>
          <button class="hotspot" style="left:66%; top:45%;" data-code="cn" aria-label="China" title="China"></button>
          <button class="hotspot" style="left:59%; top:36%;" data-code="fr" aria-label="Francia" title="Francia"></button>
          <button class="hotspot" style="left:22%; top:33%;" data-code="us" aria-label="Estados Unidos" title="Estados Unidos"></button>
          <button class="hotspot" style="left:66%; top:30%;" data-code="ru" aria-label="Rusia" title="Rusia"></button>
          <button class="hotspot" style="left:75%; top:43%;" data-code="jp" aria-label="Japón" title="Japón"></button>
          <button class="hotspot" style="left:25%; top:28%;" data-code="ca" aria-label="Canadá" title="Canadá"></button>
          <button class="hotspot" style="left:63%; top:54%;" data-code="it" aria-label="Italia" title="Italia"></button>
          <button class="hotspot" style="left:58%; top:42%;" data-code="es" aria-label="España" title="España"></button>
          <button class="hotspot" style="left:45%; top:65%;" data-code="eg" aria-label="Egipto" title="Egipto"></button>

          <div id="mapTooltip" class="map-tooltip" hidden aria-hidden="true">
            <img id="ttImg" src="" alt="Imagen del destino" />
            <div class="tt-info">
              <h4 id="ttTitle"></h4>
              <p id="ttDesc"></p>
            </div>
          </div>
        </div>
        <small class="map-hint">Pasa el cursor (o toca) sobre un país para ver un destino icónico.</small>
      </div>
    </section>

    <section class="destinos" aria-labelledby="destinosTitle">
      <h2 id="destinosTitle">Lo mejor espera por ti</h2>
      <div id="grid-destinos" class="grid-destinos" aria-live="polite"></div>
    </section>

    <section class="extra" aria-labelledby="extraTitle">
      <h3 id="extraTitle">¿Listo para despegar?</h3>
      <p>Aquí puedes agregar promos, paquetes o un storytelling de marca.</p>
    </section>
  </main>

  <script>
    // Datos de destinos
    const destinos = {
      mx: { title: "México", img: "https://content.r9cdn.net/rimg/dimg/fb/9b/fce36aaa-city-34713-16296d9e374.jpg?crop=true&width=1020&height=498", desc: "Explora Cancún y su mar turquesa." },
      pe: { title: "Perú", img: "https://image-tc.galaxy.tf/wijpeg-7ellqz2uqv2l9plk30futx9jr/experiencias-machu-picchu_wide.jpg?crop=0%2C63%2C1200%2C675&width=1140", desc: "Descubre Machu Picchu." },
      br: { title: "Brasil", img: "https://voyeglobal.com/wp-content/webp-express/webp-images/uploads/2025/02/thumbnail-1.jpeg.webp", desc: "Vive el carnaval en Río de Janeiro." },
      cn: { title: "China", img: "https://upload.wikimedia.org/wikipedia/commons/2/23/The_Great_Wall_of_China_at_Jinshanling-edit.jpg", desc: "Camina por la Gran Muralla China." },
      fr: { title: "Francia", img: "https://media.tacdn.com/media/attractions-splice-spp-360x240/06/6f/4c/bc.jpg", desc: "Admira la Torre Eiffel." },
      us: { title: "Estados Unidos", img: "https://forbes.es/wp-content/uploads/2017/08/GettyImages-600966434.jpg", desc: "Conquista la Gran Manzana." },
      ru: { title: "Rusia", img: "https://e00-expansion.uecdn.es/assets/multimedia/imagenes/2016/08/30/14725492206022.jpg", desc: "Explora la Plaza Roja." },
      jp: { title: "Japón", img: "https://res.cloudinary.com/aenetworks/image/upload/c_fill,ar_2,w_3840,h_1920,g_auto/dpr_auto/f_auto/q_auto:eco/v1/gettyimages-1390815938?_a=BAVAZGDX0", desc: "Disfruta la modernidad y tradición en Tokyo." },
      ca: { title: "Canadá", img: "https://blog.grandvoyage.com/wp-content/uploads/2023/12/13.jpg", desc: "Admira las Cataratas del Niágara." },
      it: { title: "Italia", img: "https://www.monumentosderoma.es/media/bholevzk/fontana-de-trevi-noche.jpg?anchor=center&mode=crop&width=555&height=370&rnd=132360957171900000", desc: "Recorre Roma y la Fontana de Trevi." },
      es: { title: "España", img: "https://educahistoria.com/wp-content/uploads/2023/07/aerial-drone-view-of-barcelona-spain-2023-03-30-02-07-38-utc-980x551.jpg", desc: "Descubre Barcelona y su arquitectura." },
      eg: { title: "Egipto", img: "https://cdn-imgix.headout.com/media/images/c151a30f4d1285a4fa1aca9f6bc0f053-History%20of%20Khafre%E2%80%99s%20Pyramid.jpg?auto=format&w=1069.6000000000001&h=687.6&q=90&ar=14%3A9&crop=faces&fit=crop", desc: "Visita las Pirámides de Giza." }
    };

    // Tooltip DOM
    const tooltip = document.getElementById("mapTooltip");
    const ttImg = document.getElementById("ttImg");
    const ttTitle = document.getElementById("ttTitle");
    const ttDesc = document.getElementById("ttDesc");

    // Mostrar tooltip (posicionado en base al botón)
    function showTooltip(btn, data) {
      if(!data) return;
      ttImg.src = data.img;
      ttTitle.textContent = data.title;
      ttDesc.textContent = data.desc;
      tooltip.hidden = false;
      tooltip.setAttribute('aria-hidden','false');

      // Posicionar: en pantallas grandes mantenemos posición absoluta cerca del hotspot
      const vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);
      if (vw > 768) {
        // leer left/top del estilo inline del botón
        tooltip.style.position = 'absolute';
        tooltip.style.left = btn.style.left;
        tooltip.style.top = btn.style.top;
        tooltip.style.transform = 'translate(-50%,-120%)';
      } else {
        // en móvil: mostrar debajo del mapa y centrado
        tooltip.style.position = 'absolute';
        tooltip.style.left = '50%';
        tooltip.style.top = '100%';
        tooltip.style.transform = 'translate(-50%, 8px)';
      }
    }

    function hideTooltip() {
      tooltip.hidden = true;
      tooltip.setAttribute('aria-hidden','true');
    }

    // Hover / focus / touch support for hotspots
    document.querySelectorAll(".hotspot").forEach(btn => {
      const code = btn.dataset.code;
      const data = destinos[code];

      // Desktop: hover & focus
      btn.addEventListener("mouseenter", () => showTooltip(btn, data));
      btn.addEventListener("mouseleave", hideTooltip);
      btn.addEventListener("focus", () => showTooltip(btn, data));
      btn.addEventListener("blur", hideTooltip);

      // Touch: tap toggles tooltip (prevent double events)
      let touchTimer = null;
      btn.addEventListener("touchstart", (e) => {
        e.preventDefault(); // evitar que dispare también mouse events en algunos navegadores
        if (tooltip.hidden || tooltip.getAttribute('data-active') !== btn.dataset.code) {
          // abrir con el botón actual
          document.querySelectorAll('.hotspot').forEach(h=>h.removeAttribute('aria-pressed'));
          btn.setAttribute('aria-pressed','true');
          showTooltip(btn, data);
          tooltip.setAttribute('data-active', btn.dataset.code);
        } else {
          hideTooltip();
          tooltip.removeAttribute('data-active');
          btn.removeAttribute('aria-pressed');
        }
        // cerrar después de X segundos si se desea
        if (touchTimer) clearTimeout(touchTimer);
        touchTimer = setTimeout(()=>{ hideTooltip(); tooltip.removeAttribute('data-active'); btn.removeAttribute('aria-pressed'); }, 6000);
      });
    });

    // Cerrar tooltip al tocar fuera
    document.addEventListener('click', (e) => {
      if (!e.target.closest('.map-wrapper')) {
        hideTooltip();
        tooltip.removeAttribute('data-active');
        document.querySelectorAll('.hotspot').forEach(h=>h.removeAttribute('aria-pressed'));
      }
    });

    // Llenar grid de destinos
    const grid = document.getElementById("grid-destinos");
    Object.values(destinos).forEach(d => {
      const card = document.createElement("div");
      card.className = "card";
      card.innerHTML = `<img src="${d.img}" alt="${d.title}"><h4>${d.title}</h4><p>${d.desc}</p>`;
      grid.appendChild(card);
    });

    // NAV toggle (mobile)
    const navToggle = document.getElementById('navToggle');
    const navPanel = document.getElementById('navPanel');
    const mainNav = document.getElementById('mainNav');
    navToggle.addEventListener('click', () => {
      const expanded = navToggle.getAttribute('aria-expanded') === 'true';
      navToggle.setAttribute('aria-expanded', String(!expanded));
      navPanel.classList.toggle('open');
      // ensure focus for accessibility
      if (!expanded) mainNav.querySelector('a')?.focus();
    });

    // A11y: cerrar menu con ESC
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        navPanel.classList.remove('open');
        navToggle.setAttribute('aria-expanded','false');
        hideTooltip();
      }
    });

    // Optional: ajustar tooltip si resize
    window.addEventListener('resize', () => { hideTooltip(); tooltip.removeAttribute('data-active'); document.querySelectorAll('.hotspot').forEach(h=>h.removeAttribute('aria-pressed')); });
  </script>
</body>
</html>
